 
一轮测试非常顺利，通过压线端子链接电线后，电线远端手的触摸可以获得准确信号的，并且串口通信与输出、存储都很不错。  
但将设备转移到实验室后，继上周通过导线链接到水嘴信号不太成功后，新的问题出现了。  
# TTP224的响应本身出现问题：
### 1.
4路信号中有时候无法完全响应，即发生触摸仍然没有信号  <img width="622" height="696" alt="image" src="https://github.com/user-attachments/assets/f9f502bb-9bca-4810-b1e3-a7edd60514e2" />

### 2. 
反向！即不触摸时有信号，触摸时无信号
### 3.
随着是使用串口链接和ST-link链接问题不一样

相当奇怪  
## 器件排障尝试：
1.查询数据手册TOG引脚悬空时应该是直接模式-也就是触摸产生有效信号，但实际情况并非如此？  
2.通过ST-LINK的供电线直接连到电脑的USB输出部分，后不经过STM32链接到TTP224上，在出现短暂的，闪烁式正常触摸信号后又出现了不应期。  
3.更换TTP224模块后情况类似，因此应该是电压的问题  
4.电压检查，使用电源模块满足TTP2242.4V`5.5V的的要求
## 接线尝试：（此时直接依赖电源模块供电，不经过STM32）
我们注意到数据手册中对TOG/OD/AHLB三个端口通过接线是可以更改的，默认模式下TOD为0；OD为1；AHLB为0；  
因此怀疑其可能是响应模式有误-反向的信号；此外怀疑其处于低功耗模式下的原因  
因此，我怀疑可能是由于某种原因使得其默认链接被修改了，做以下尝试：  
1.采用链接线直接接原理图中的LPMB与高电平。强制处于快速模式下。！它正常工作了,但当我重新使用ST32供电时，它再次失败了    
2.我按照输出模式选择更改了T/D/A（上文提到的）<img width="782" height="250" alt="image" src="https://github.com/user-attachments/assets/6ebc6562-273b-4a3b-8685-81211c487aa6" />

首先判断TOG状态：因为TOG为触发模式的时候，会在触发持续一段时间后输出信号，直接模式时就是及时响应的。  
通过连结TOG口与地线，强制使其处于直接模式下。并检查了SM 口，确认可以产生两个与两个以上的信号。  
接下来我们使用CMOS输出，OD接地。并通过AHLB接地使得高电平有效。~仍然出现了初始点亮后触摸关闭的情况？  

## 一些观察
使用type-C线向STM32供电时，类似的情况较少，而使用串口和STlink供电时偶发。但TTP224的工作电流才9uA ，应该说远小于这三种中任意种类的电流上限.
